<div class="card-header">Register an Account</div>
<div class="card-body">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <% errors_messages = resource.errors.any? ? resource.errors.messages : {} %>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-6">
          <%= f.label :name, 'Nombre' %>
          <%= validation_error_tooltip(errors_messages, :name, {},{class: 'bg-danger'}) if errors_messages[:name].present? %>
          <%= f.text_field :name, autofocus: true, class: 'form-control' , 'data-toggle': 'tooltip'%>
        </div>
        <div class="col-md-6">
          <%= f.label :username, 'Usuario' %>
          <%= f.text_field :username, autofocus: true, class: 'form-control' %>
          <%= validation_error_tooltip(errors_messages, :username) if errors_messages[:username].present? %>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-6">
          <%= f.label :birth_date, 'Fecha Nacimiento' %>
          <div class="input-group date">
            <%= f.text_field :birth_date , autofocus: true, class: 'form-control date', 'aria-describedby': 'date-span'%>
            <%= validation_error_tooltip(errors_messages, :birth_date) if errors_messages[:birth_date].present? %>
            <span class="input-group-append">
              <span class="input-group-text fa fa-calendar" id="date-span"></span>
            </span>
          </div>
        </div>
        <div class="col-md-6">
          <%= f.label :cell_phone, 'Teléfono móvil (Opcional)' %>
          <%= f.text_field :cell_phone, autofocus: true, class: 'form-control' %>
          <%= validation_error_tooltip(errors_messages, :cell_phone) if errors_messages[:cell_phone].present? %>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-12">
          <%= f.label :email %>
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control' %>
          <%= validation_error_tooltip(errors_messages, :email) if errors_messages[:email].present? %>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-12">
          <%= f.label :password, 'Password' %>
          <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %> Carácteres Mínimo)</em>
          <% end %><br />
          <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
          <%= validation_error_tooltip(errors_messages, :password) if errors_messages[:password].present? %>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-12">
          <%= f.label :password_confirmation, 'Confirmar Password' %>
          <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
          <%= validation_error_tooltip(errors_messages, :password_confirmation) if errors_messages[:password_confirmation].present? %>
        </div>
      </div>
    </div>
    <br>
    <div class="form-group">
      <div class="form-row">
        <div class="col-md-12">
          <%= f.submit "Registrar", class: 'btn btn-primary d-block mx-auto'%>
        </div>
      </div>
    </div>
  <% end %>
  <br>
</div>
<script type="text/javascript">
  $(function(){
    $('.form-control.date').datetimepicker({
      locale: 'es',
      format: 'DD/MM/YYYY',
      icons: {
        time: "fa fa-clock-o",
        date: "fa fa-calendar",
        up: "fa fa-arrow-up",
        down: "fa fa-arrow-down"
      }
    })
    $('#user_cell_phone').mask('+(00) 0 00000000', {placeholder: "+(__) _ ____-____"});
  })
</script>
